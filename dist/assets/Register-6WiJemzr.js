import{_ as x,n as I,r as _,l as k,c as l,a as e,w as f,v as h,F as u,b as g,t as m,g as S,h as L,u as E,A as B,T as F,j as C,o as r,p as P,k as R}from"./index-Xlc_CpZz.js";const i=c=>(P("data-v-20022a30"),c=c(),R(),c),T={class:"register w-100 d-flex align-items-center justify-content-center bg-light"},V={class:"container"},j={class:"row w-100 justify-content-center"},A={class:"col-lg-6"},N={class:"card border-0 shadow p-5 rounded-4"},U={class:"card-body"},$=i(()=>e("div",{class:"text-center mb-4"},[e("h1",{class:"fst-italic font-bold text-primary mb-2"},"Logo."),e("h4",null,"Create your account in Shippo.")],-1)),D={class:"w-100 mb-3"},M=i(()=>e("label",{for:"name",class:"form-label"},"Full name",-1)),O={class:"w-100 mb-3"},J=i(()=>e("label",{for:"email",class:"form-label"},"Email Address",-1)),W={class:"w-100 mb-4"},q=i(()=>e("label",{for:"password",class:"form-label"},"Password",-1)),z={class:"text-center mb-2"},G=["disabled"],H={class:"text-center"},K=i(()=>e("small",null,"Already have an account? Log In",-1)),Q=i(()=>e("div",{class:"error_toast position-fixed"},[e("div",{id:"errorToast",class:"toast align-items-center text-bg-danger border-0",role:"alert","aria-live":"assertive","aria-atomic":"true"},[e("div",{class:"d-flex"},[e("div",{class:"toast-body"}," Something went wrong, please try again. "),e("button",{type:"button",class:"btn-close btn-close-white me-2 m-auto","data-bs-dismiss":"toast","aria-label":"Close"})])])],-1)),X={__name:"Register",setup(c){const b=I(),p=E(),a=_({name:"",email:"",password:""}),n=_(!1),d=_({name:"",email:"",password:""});k(()=>{p.state.isLoggedIn&&b.push("/")});const w=()=>{n.value=!0;try{B.post("register",a.value).then(o=>{if(o.data.error){d.value=o.data.validation_message;let t=Object.keys(o.data.validation_message);t.forEach(v=>{let s=document.getElementById(v);s.classList.add("is-invalid"),document.getElementById(t[0]).focus(),s.addEventListener("input",()=>{s.value.trim()!==""?s.classList.remove("is-invalid"):s.classList.add("is-invalid")})}),n.value=!1;return}else{n.value=!1,p.state.user=o.data.user,p.state.isLoggedIn=!0;const t=JSON.stringify(o.data.user);localStorage.setItem("user",t),y(),b.push("/")}})}catch{console.error("Internal Server Error"),n.value=!1,new F(document.getElementById("errorToast")).show()}},y=()=>{a.value={name:"",email:"",password:""},d.value={name:"",email:"",password:""}};return(o,t)=>{const v=C("router-link");return r(),l(u,null,[e("section",T,[e("div",V,[e("div",j,[e("div",A,[e("div",N,[e("div",U,[$,e("div",D,[M,f(e("input",{type:"text",class:"form-control",id:"name",placeholder:"Please enter your full name","onUpdate:modelValue":t[0]||(t[0]=s=>a.value.name=s)},null,512),[[h,a.value.name]]),(r(!0),l(u,null,g(d.value.name,s=>(r(),l("small",{class:"text-danger",key:`${s}-name`},m(s),1))),128))]),e("div",O,[J,f(e("input",{type:"email",class:"form-control",id:"email",placeholder:"Please enter your email","onUpdate:modelValue":t[1]||(t[1]=s=>a.value.email=s)},null,512),[[h,a.value.email]]),(r(!0),l(u,null,g(d.value.email,s=>(r(),l("small",{class:"text-danger",key:`${s}-email`},m(s),1))),128))]),e("div",W,[q,f(e("input",{type:"password",class:"form-control",id:"password",placeholder:"Please enter your password","onUpdate:modelValue":t[2]||(t[2]=s=>a.value.password=s)},null,512),[[h,a.value.password]]),(r(!0),l(u,null,g(d.value.password,s=>(r(),l("small",{class:"text-danger",key:`${s}-password`},m(s),1))),128))]),e("div",z,[e("button",{class:"btn btn-primary font-bold text-white px-5",disabled:n.value,onClick:w},m(n.value?"Please Wait":"Register"),9,G)]),e("div",H,[S(v,{to:"/login",class:"text-secondary"},{default:L(()=>[K]),_:1})])])])])])])]),Q],64)}}},ee=x(X,[["__scopeId","data-v-20022a30"]]);export{ee as default};
